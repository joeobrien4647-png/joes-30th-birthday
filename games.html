<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Games & Challenges - Joe's 30th Birthday Trip</title>
    <meta name="description" content="Ch√¢teau Roussignol, Loire Valley ¬∑ 29 Apr ‚Äì 4 May 2026">
    <meta property="og:title" content="Joe's 30th Birthday Trip">
    <meta property="og:description" content="Ch√¢teau Roussignol, Loire Valley ¬∑ 29 Apr ‚Äì 4 May 2026">
    <meta property="og:image" content="images/og-preview.jpg">
    <meta property="og:type" content="website">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéÆ</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/base.css?v=9">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/games.css?v=9">
</head>
<body>
    <!-- Confetti Canvas -->
    <canvas id="confetti-canvas"></canvas>

    <!-- Navigation -->
    <nav class="main-nav">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">30th Bday</a>
            <button class="nav-toggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-links">
                <li><a href="index.html" data-page="index.html">Home</a></li>
                <li><a href="schedule.html" data-page="schedule.html">Schedule</a></li>
                <li><a href="games.html" data-page="games.html" class="active">Games</a></li>
                <li><a href="social.html" data-page="social.html">Social</a></li>
                <li><a href="practical.html" data-page="practical.html">Info</a></li>
                <li><button class="dark-mode-toggle" id="dark-mode-toggle" aria-label="Toggle dark mode">üåô</button></li>
                <li><span class="nav-guest-name" id="nav-guest-name" style="display: none;"></span></li>
            </ul>
        </div>
    </nav>

    <!-- Page Header -->
    <header class="page-header">
        <h1>Games & Challenges</h1>
        <p>Compete, laugh, and earn points for your team!</p>
    </header>

    <!-- Sub Navigation -->
    <nav class="sub-nav">
        <ul class="sub-nav-links">
            <li><a href="#challenges" class="active">Challenges</a></li>
            <li><a href="#leaderboard">Leaderboard</a></li>
            <li><a href="#quiz">Quiz</a></li>
            <li><a href="#bingo">Bingo</a></li>
        </ul>
    </nav>

    <!-- Games & Challenges Section -->
    <section id="challenges" class="section challenges">
        <div class="container">
            <h2 class="section-title">Games &amp; Challenges</h2>
            <p class="section-subtitle">Earn points for your team - everything counts!</p>

            <!-- How It Works -->
            <div class="how-it-works">
                <button class="hiw-toggle" id="hiw-toggle">
                    <span>&#8505;&#65039; How It Works</span>
                    <span class="hiw-chevron">&#9656;</span>
                </button>
                <div class="hiw-body" id="hiw-body" style="display:none;">
                    <div class="hiw-grid">
                        <div class="hiw-card">
                            <h4>&#128104;&#8205;&#127859; Cooking &amp; Tidy-Up Rota</h4>
                            <p>4 teams, 5 nights of food. Each team cooks one dinner and one breakfast. If you cook, you don't clean. Full rota is on the <a href="schedule.html#rotas">Schedule page</a>.</p>
                        </div>
                        <div class="hiw-card">
                            <h4>&#127942; Points &amp; Scoring</h4>
                            <p>Games, challenges, and duties all earn points for <strong>your team</strong> and for you individually. Details revealed on arrival &mdash; just know that everything counts!</p>
                            <p>Awards are given by Joe throughout the trip. Keep your eyes on the <strong>Leaderboard</strong> tab.</p>
                        </div>
                        <div class="hiw-card">
                            <h4>&#128274; Teams</h4>
                            <p>Team names are a secret until arrival night. The leaderboard unlocks when teams are revealed. Check back on the night.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="challenge-tabs">
                <button class="ch-tab active" data-ch="daily">Daily Games</button>
                <button class="ch-tab" data-ch="ongoing">All-Week Challenges</button>
            </div>

            <!-- Daily Games -->
            <div class="ch-content active" data-ch="daily">
                <div class="ch-day-select">
                    <button class="ch-day-btn active" data-chday="1">Day 1</button>
                    <button class="ch-day-btn" data-chday="2">Day 2</button>
                    <button class="ch-day-btn" data-chday="3">Day 3</button>
                    <button class="ch-day-btn" data-chday="4">Day 4</button>
                    <button class="ch-day-btn" data-chday="5">Day 5</button>
                    <button class="ch-day-btn" data-chday="6">Day 6</button>
                </div>

                <!-- Day 1 - Travel Day -->
                <div class="ch-day-content active" data-chday="1">
                    <div class="ch-locked-card">
                        <div class="ch-locked-icon">&#128274;</div>
                        <div class="ch-locked-info">
                            <h4>Games TBA</h4>
                            <p>Announced on arrival</p>
                        </div>
                        <span class="ch-locked-badge">Coming soon</span>
                    </div>
                </div>

                <!-- Day 2 - Chateau Day -->
                <div class="ch-day-content" data-chday="2">
                    <div class="ch-locked-card">
                        <div class="ch-locked-icon">&#128274;</div>
                        <div class="ch-locked-info">
                            <h4>Games TBA</h4>
                            <p>Announced on arrival</p>
                        </div>
                        <span class="ch-locked-badge">Coming soon</span>
                    </div>
                </div>

                <!-- Day 3 - Adventure Day -->
                <div class="ch-day-content" data-chday="3">
                    <div class="ch-locked-card">
                        <div class="ch-locked-icon">&#128274;</div>
                        <div class="ch-locked-info">
                            <h4>Games TBA</h4>
                            <p>Announced on arrival</p>
                        </div>
                        <span class="ch-locked-badge">Coming soon</span>
                    </div>
                </div>

                <!-- Day 4 - BIRTHDAY -->
                <div class="ch-day-content" data-chday="4">
                    <div class="ch-locked-card ch-locked-birthday">
                        <div class="ch-locked-icon">&#128274;</div>
                        <div class="ch-locked-info">
                            <h4>Games TBA</h4>
                            <p>It's the big day - expect surprises</p>
                        </div>
                        <span class="ch-locked-badge">TOP SECRET</span>
                    </div>
                </div>

                <!-- Day 5 - Last Full Day -->
                <div class="ch-day-content" data-chday="5">
                    <div class="ch-locked-card">
                        <div class="ch-locked-icon">&#128274;</div>
                        <div class="ch-locked-info">
                            <h4>Games TBA</h4>
                            <p>Announced on arrival</p>
                        </div>
                        <span class="ch-locked-badge">Coming soon</span>
                    </div>
                </div>

                <!-- Day 6 - Departure -->
                <div class="ch-day-content" data-chday="6">
                    <div class="ch-locked-card">
                        <div class="ch-locked-icon">&#128274;</div>
                        <div class="ch-locked-info">
                            <h4>Games TBA</h4>
                            <p>Announced on arrival</p>
                        </div>
                        <span class="ch-locked-badge">Coming soon</span>
                    </div>
                </div>
            </div>

            <!-- All-Week Challenges -->
            <div class="ch-content" data-ch="ongoing">
                <div class="ch-locked-card">
                    <div class="ch-locked-icon">&#128274;</div>
                    <div class="ch-locked-info">
                        <h4>All-Week Challenges</h4>
                        <p>Ongoing challenges revealed on arrival</p>
                    </div>
                    <span class="ch-locked-badge">Coming soon</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Leaderboard Section -->
    <section id="leaderboard" class="section leaderboard">
        <div class="container">
            <h2 class="section-title">Leaderboard</h2>
            <p class="section-subtitle">Teams battle, individuals shine - who's coming out on top?</p>

            <div class="lb-toggle">
                <button class="lb-tab active" data-lb="teams">Teams</button>
                <button class="lb-tab" data-lb="feed">Live</button>
                <button class="lb-tab" data-lb="individuals">Individuals</button>
                <button class="lb-tab" data-lb="log">Log</button>
                <button class="lb-tab" data-lb="recap">Daily Recap</button>
            </div>

            <!-- Team Leaderboard -->
            <div class="lb-content active" data-lb="teams">
                <div class="teams-locked-overlay">
                    <div class="teams-locked-content">
                        <span class="teams-locked-icon">&#128274;</span>
                        <h3>Teams Are Top Secret</h3>
                        <p>Teams will be revealed on arrival night at the chateau. Until then, it's all under wraps.</p>
                        <div class="teams-locked-hint">
                            <span>&#128064;</span> 4 teams. 27 players. Who's on your side? Find out Wed 29th April.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Live Activity Feed -->
            <div class="lb-content" data-lb="feed">
                <div class="activity-feed" id="activity-feed">
                    <p class="feed-empty">No activity yet - let the games begin!</p>
                </div>
            </div>

            <!-- Individual Leaderboard -->
            <div class="lb-content" data-lb="individuals">
                <div class="individual-board" id="individual-board">
                    <!-- Populated by JS -->
                </div>
            </div>

            <!-- Points Log -->
            <div class="lb-content" data-lb="log">
                <div class="points-log" id="points-log">
                    <p class="log-empty">No points awarded yet - let the games begin!</p>
                </div>
            </div>

            <!-- Daily Recap -->
            <div class="lb-content" data-lb="recap">
                <div class="daily-recap" id="daily-recap">
                    <div class="recap-day-select">
                        <button class="recap-day-btn" data-day="1">Day 1</button>
                        <button class="recap-day-btn" data-day="2">Day 2</button>
                        <button class="recap-day-btn" data-day="3">Day 3</button>
                        <button class="recap-day-btn" data-day="4">Day 4</button>
                        <button class="recap-day-btn" data-day="5">Day 5</button>
                        <button class="recap-day-btn" data-day="6">Day 6</button>
                    </div>
                    <div class="recap-content">
                        <div id="recap-mvp"></div>
                        <div id="recap-teams" class="recap-teams"></div>
                        <div id="recap-top" class="recap-top"></div>
                        <div id="recap-badges" class="recap-badges"></div>
                        <div id="recap-highlights" class="recap-highlights"></div>
                    </div>
                </div>
            </div>

            <!-- Admin Panel (hidden unless admin) -->
            <div class="lb-admin" id="lb-admin" style="display: none;">
                <h4>&#128272; Award Points</h4>
                <div class="recent-players" id="recent-players" style="display: none;"></div>
                <form id="award-points-form">
                    <div class="admin-row">
                        <select id="award-type">
                            <option value="individual">Individual</option>
                            <option value="team">Team</option>
                        </select>
                        <select id="award-target">
                            <!-- Populated by JS -->
                        </select>
                        <select id="award-category">
                            <option value="games">&#127918; Games</option>
                            <option value="food">&#128104;&#8205;&#127859; Food Rotas</option>
                            <option value="challenges">&#127942; Challenges</option>
                            <option value="bonus">&#11088; Bonus</option>
                            <option value="penalty">&#128997; Penalty</option>
                        </select>
                    </div>
                    <div class="admin-row">
                        <input type="number" id="award-amount" placeholder="Points" min="-100" max="100" required>
                        <input type="text" id="award-reason" placeholder="Reason (e.g., Won p&#233;tanque)" required>
                        <button type="submit" class="btn btn-primary">Award</button>
                    </div>
                </form>
                <div class="admin-quick-awards">
                    <h5>Quick Awards:</h5>
                    <div class="quick-btns">
                        <button class="quick-award" data-points="5" data-reason="Game Winner">&#127942; Game Win (+5)</button>
                        <button class="quick-award" data-points="3" data-reason="Runner Up">&#129352; Runner Up (+3)</button>
                        <button class="quick-award" data-points="2" data-reason="Participation">&#128079; Participation (+2)</button>
                        <button class="quick-award" data-points="1" data-reason="Bonus Point">&#11088; Bonus (+1)</button>
                        <button class="quick-award" data-points="10" data-reason="Challenge Champion">&#127919; Challenge Champ (+10)</button>
                        <button class="quick-award" data-points="-1" data-reason="Penalty">&#128997; Penalty (-1)</button>
                    </div>
                </div>
                <div class="admin-day-awards" id="day-quick-awards" style="display: none;"></div>
                <div class="admin-day-override">
                    <label for="day-override">Trip Day:</label>
                    <select id="day-override">
                        <option value="auto">Auto</option>
                        <option value="1">Day 1</option>
                        <option value="2">Day 2</option>
                        <option value="3">Day 3</option>
                        <option value="4">Day 4</option>
                        <option value="5">Day 5</option>
                        <option value="6">Day 6</option>
                    </select>
                </div>
            </div>

            <button class="admin-toggle-btn" id="admin-toggle-btn">&#128274; Admin</button>
        </div>
    </section>

    <!-- Quiz Section -->
    <section id="quiz" class="section quiz">
        <div class="container">
            <h2 class="section-title">How Well Do You Know Joe?</h2>
            <p class="section-subtitle">Test your knowledge of the birthday legend!</p>

            <div class="quiz-container" id="quiz-container">
                <div class="quiz-start" id="quiz-start">
                    <div class="quiz-intro">
                        <span class="quiz-emoji">üß†</span>
                        <h3>Think you know Joe?</h3>
                        <p>10 questions to prove you're a true friend!</p>
                        <button class="btn btn-primary" id="start-quiz">Start Quiz</button>
                    </div>
                    <div class="quiz-leaderboard">
                        <h4>üèÜ Leaderboard</h4>
                        <div class="leaderboard-list" id="leaderboard-list">
                            <p class="no-scores">üéØ No quiz legends yet! Be the first to test your Joe knowledge!</p>
                        </div>
                    </div>
                </div>

                <div class="quiz-game" id="quiz-game" style="display: none;">
                    <div class="quiz-progress">
                        <span>Question <span id="question-num">1</span> of 10</span>
                        <div class="quiz-progress-bar">
                            <div class="quiz-progress-fill" id="quiz-progress-fill"></div>
                        </div>
                    </div>
                    <div class="quiz-question" id="quiz-question">
                        <h3 id="question-text">Question goes here?</h3>
                        <div class="quiz-options" id="quiz-options">
                            <!-- Options populated by JS -->
                        </div>
                    </div>
                </div>

                <div class="quiz-result" id="quiz-result" style="display: none;">
                    <span class="result-emoji" id="result-emoji">üéâ</span>
                    <h3 id="result-title">Great Job!</h3>
                    <p id="result-score">You scored 8 out of 10!</p>
                    <div class="result-actions">
                        <button class="btn btn-primary" id="retry-quiz">Try Again</button>
                        <button class="btn btn-secondary" id="share-score">Share Score</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Trip Bingo Section -->
    <section id="bingo" class="section bingo">
        <div class="container">
            <h2 class="section-title">Your Personal Bingo Card &#127922;</h2>
            <p class="section-subtitle">Every card is unique to you. Tick off moments as they happen on the trip!</p>

            <!-- Lock overlay ‚Äî hidden after 7am on departure day -->
            <div class="bingo-lock" id="bingo-lock">
                <div class="bingo-lock-inner">
                    <span class="bingo-lock-icon">&#128274;</span>
                    <h3>Personal Bingo Cards</h3>
                    <p>Your card unlocks on departure morning (Wed 29 Apr). Each card is tailored to you, no two are the same.</p>
                    <p class="bingo-lock-hint">Check back once you're on the plane!</p>
                </div>
            </div>

            <div class="bingo-card" id="bingo-card">
                <!-- Generated by JS -->
            </div>

            <div class="bingo-controls" style="margin-top:1rem;">
                <button class="btn btn-secondary" id="reset-bingo">&#8635; Reset Card</button>
            </div>

            <div class="bingo-winner" id="bingo-winner" style="display: none;">
                <h3>&#127881; BINGO! &#127881;</h3>
                <p>You got a line! Screenshot and share with the group!</p>
            </div>
        </div>
    </section>


    <!-- Confetti Cannon (Fixed Button) -->
    <button class="confetti-cannon" id="confetti-cannon" title="Party Time!">
        üéâ
        <span class="cannon-label">POP!</span>
    </button>

    <!-- Theme Switcher -->
    <div class="theme-switcher" id="theme-switcher">
        <button class="theme-toggle-btn" id="theme-toggle-btn">üé®</button>
        <div class="theme-options" id="theme-options">
            <button class="theme-option" data-theme="default" title="Birthday Party">üéÇ</button>
            <button class="theme-option" data-theme="france" title="French Vibes">üá´üá∑</button>
            <button class="theme-option" data-theme="wine" title="Wine O'Clock">üç∑</button>
            <button class="theme-option" data-theme="sunset" title="Golden Hour">üåÖ</button>
            <button class="theme-option" data-theme="disco" title="Disco Night">ü™©</button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>Made with love for Joe's 30th Birthday üéÇ üá´üá∑ üéâ</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/shared.js?v=8"></script>
    <script src="js/nav.js"></script>
    <script src="js/games.js?v=11"></script>
</body>
</html>
